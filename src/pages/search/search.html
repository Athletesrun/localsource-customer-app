<!--
  Generated template for the SearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar hideBackButton>
    <button (click)="viewResultsOnMap()" [ngClass]="{buttonDisabled:!buttonIsEnabled}" ion-button small class="disabled">View Map</button>
    <ion-title>Search</ion-title>
    <ion-icon (click)="exitSearch()" width="auto" style="float:right; font-size: 2.3em; padding-right: 10px;" name="md-close"></ion-icon>
  </ion-navbar>

</ion-header>

<ion-content>
  <div>
    <ion-searchbar [(ngModel)]="searchInput" placeholder="Search for a business or product" class="searchBar" (ionInput)="runSearch($event)"></ion-searchbar>
    
  </div>
  <!-- <ion-searchbar [(ngModel)]="searchInput" placeholder="Search for a business or product" class="searchBar" (ionInput)="runSearch($event)"></ion-searchbar> -->


  <!-- View results on Map Button -->
  <!-- <button ion-button *ngIf="searching" round="true" style="margin-left: 5%; width: 90%;" (click)="viewResultsOnMap()">View Results on Map</button> -->
  <!-- Search Results -->
  <ion-list *ngIf="searching">
    <ion-item *ngFor="let item of getSearchResults(); let i = index;" (click)="openBusinessPage()">
      <ion-card>
        <ion-item>
          <ion-avatar item-start>
            <img src="{{ item.image }}">
          </ion-avatar>
          <h2>{{ item.name }}</h2>
          <p>{{ item.description }}</p>
        </ion-item>
      </ion-card>
    </ion-item>
  </ion-list>
  

  <!-- Search Suggestions -->
  <ion-grid *ngIf="!searching">
    <ion-row>
      <ion-col col-6 (click)="searchItem(getSuggestion(0))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(0) }}</button>
      </ion-col>
      <ion-col col-6 (click)="searchItem(getSuggestion(1))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(1) }}</button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 (click)="searchItem(getSuggestion(2))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(2) }}</button>
      </ion-col>
      <ion-col col-6 (click)="searchItem(getSuggestion(3))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(3) }}</button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 (click)="searchItem(getSuggestion(4))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(4) }}</button>
      </ion-col>
      <ion-col col-6 (click)="searchItem(getSuggestion(5))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(5) }}</button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 (click)="searchItem(getSuggestion(6))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(6) }}</button>
      </ion-col>
      <ion-col col-6 (click)="searchItem(getSuggestion(7))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(7) }}</button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 (click)="searchItem(getSuggestion(8))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(8) }}</button>
      </ion-col>
      <ion-col col-6 (click)="searchItem(getSuggestion(9))">
        <button class="suggestion" round="true" full="true" ion-button>{{ getSuggestion(9) }}</button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Local Feature -->
  <div class="localFeature" *ngIf="!searching">
    <table>
      <tr>
        <td style="width: 40%;">
          <img width="150px" alt="michelle" src="assets/imgs/michelle_haven.jpg" style="display: inline; border-radius: 100%;">
          <p style="color: #7d7e80; font-size: 12px; text-align: center; margin: auto;">Michelle Dehaven</p>
          <p style="color: #7d7e80; font-size: 10px; text-align: center; margin: auto; margin-top: 2px;">Owner, Haven</p>
        </td>
        <td>
          <p style="display: inline; color: #7d7e80; line-height: 20px;">"My best customers range from 80 plus year-old grande dames to tatted-up skater boys. Appearances do not predict taste or style in Boulder."</p>
        </td>
      </tr>
    </table>
  </div>
  
  <!-- Search History -->
  <!-- <ion-list *ngIf="!searching">
      <ion-item *ngFor="let item of searchHistory" (click)="openBusinessPage()">
        <ion-card>
          <ion-item>
            <ion-avatar item-start>
              <img src="{{ item.image }}">
            </ion-avatar>
            <h2>{{ item.name }}</h2>
            <p>{{ item.description }}</p>
          </ion-item>
        </ion-card>
      </ion-item>
    </ion-list> -->
</ion-content>
